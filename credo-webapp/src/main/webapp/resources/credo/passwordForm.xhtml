<!DOCTYPE html [
    <!ENTITY nbsp "&#160;"> 
]>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite">

<h:body>
	<cc:interface>
		<cc:attribute name="value"
			type="org.soulwing.credo.facelets.PasswordFormBean" />
		<cc:attribute name="submit" method-signature="java.lang.String submit()" />
		<cc:attribute name="cancel" method-signature="java.lang.String cancel()" />
	</cc:interface>

	<cc:implementation>
		<div class="col-md-8">
			<h1>#{messages.passwordRequired}</h1>
			<p>
				<h:outputFormat escape="false" value="#{messages.passwordDetail}">
					<f:param value="#{cc.attrs.value.groupName}" />
				</h:outputFormat>
			</p>
			<h:form prependId="false" styleClass="form-horizontal">
				<ui:include src="/templates/messages.xhtml" />
				<div class="form-group has-feedback">
					<h:outputLabel styleClass="col-md-4 control-label" for="password">#{messages.passwordLabel}</h:outputLabel>
					<div class="col-md-8">
						<h:inputSecret required="true"
							requiredMessage="#{messages.passwordRequired}"
							styleClass="form-control" id="password"
							title="#{messages.passwordTip}" 
							value="#{cc.attrs.value.password}"
							valueChangeListener="#{cc.attrs.value.passwordValueChanged}"
							converter="org.soulwing.credo.converters.EmptyPassword">              							
					  </h:inputSecret>
					  <span class="form-control-feedback"></span>
					</div>
				</div>
				<div class="form-group">
					<div class="col-md-8 col-md-push-4">
						<h:commandButton styleClass="btn" value="#{messages.cancelLabel}"
							action="#{cc.attrs.cancel}" immediate="true" />
            &nbsp;
						<h:commandButton styleClass="btn btn-primary"
							value="#{messages.continueLabel} &#8594;" 
							action="#{cc.attrs.submit}" />
					</div>
				</div>
				<h:inputHidden id="actual" value="#{cc.attrs.value.actual}"/>
        <h:inputHidden id="expected" value="#{cc.attrs.value.expected}"/>
			</h:form>
		</div>
	</cc:implementation>
</h:body>

</html>
