<!DOCTYPE html [
    <!ENTITY nbsp "&#160;"> 
]>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite"
	xmlns:credo="http://xmlns.jcp.org/jsf/composite/credo">

<h:body>
	<cc:interface>
		<cc:attribute name="value"
			type="org.soulwing.credo.facelets.PasswordFormEditor" />
		<cc:attribute name="submit" method-signature="java.lang.String submit()" />
		<cc:attribute name="cancel" method-signature="java.lang.String cancel()" />
	</cc:interface>

	<cc:implementation>
	  <credo:formPanel title="#{messages.passwordRequired}">
	    <p>
	      <h:outputFormat escape="false" value="#{messages.passwordDetail}">
	        <f:param value="#{cc.attrs.value.groupName}" />
	      </h:outputFormat>
	    </p>
	    <h:form prependId="false" styleClass="form-horizontal">
	      <ui:include src="/templates/messages.xhtml" />
	      <div class="form-group has-feedback">
	        <h:outputLabel styleClass="col-md-4 control-label" for="password">#{messages.passwordLabel}</h:outputLabel>
	        <div class="col-md-6">
	          <h:inputSecret id="password"
	            required="true"
	            requiredMessage="#{messages.passwordRequired}"
	            styleClass="form-control" 
	            title="#{messages.passwordTip}" 
	            value="#{cc.attrs.value.password}"
	            valueChangeListener="#{cc.attrs.value.passwordValueChanged}"
	            converter="org.soulwing.credo.converters.EmptyPassword">                            
	          </h:inputSecret>
	          <span class="form-control-feedback"></span>
	        </div>
	      </div>
	      <div class="form-group">
	        <div class="col-md-8 col-md-push-4">
	          <h:commandLink styleClass="btn btn-default" value="#{messages.cancelLabel}"
	            action="#{cc.attrs.cancel}" immediate="true" />
	          &nbsp;
	          <h:commandButton styleClass="btn btn-primary"
	            value="#{messages.okLabel}" 
	            action="#{cc.attrs.submit}" />
	        </div>
	      </div>
	      <h:inputHidden id="correct" value="#{cc.attrs.value.correct}"/>
	    </h:form>
	  </credo:formPanel>
	</cc:implementation>
</h:body>

</html>
