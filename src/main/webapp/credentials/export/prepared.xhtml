<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:credo="http://xmlns.jcp.org/jsf/composite/credo">

<h:body>
	<ui:composition template="/templates/masterTemplate.xhtml">
		<ui:define name="windowTitle">
		  #{messages.applicationName}::#{messages.exportCredentialSubtitle}
		</ui:define>
    <ui:define name="content">
			<credo:formPanel title="#{messages.exportCredentialSubtitle}">
	      <p>
	        <h:outputFormat id="detail" escape="false"
	          value="#{messages.exportCredentialPreparedDetail}">
	          <f:param value="#{exportCredentialBean.name}"/>
	        </h:outputFormat>
	      </p>
	      <p>
	        <h:outputLink id="returnToCredentials" 
	          styleClass="btn btn-default btn-xs" value="#{request.contextPath}/credentials">
	          &#8592; #{messages.returnToCredentials}
	        </h:outputLink>
	      </p>
	      <div id="download">
	        <a id="downloadLink"
	          href="#{request.contextPath}/credentials/export/download.xhtml?cid=#{exportCredentialBean.conversation.id}">#{messages.downloadButtonLabel}</a>
	        <iframe id="downloadFrame"/>
	      </div>
			</credo:formPanel>
		</ui:define>
		<ui:define name="scripts">
		  <h:outputScript library="js" name="credentials/export/prepared.js"/>
		</ui:define>
	</ui:composition>
</h:body>

</html>